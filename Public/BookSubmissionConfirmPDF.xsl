<?xml version="1.0" encoding="utf-8"?><xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fo="http://www.w3.org/1999/XSL/Format" version="1.0">	<xsl:import href="string.xsl"/>	<xsl:output method="xml" indent="yes" encoding="utf-8"/>	<xsl:param name="majuscules">ABCDEFGHIJKLMNOPQRSTUVWXYZAAAAAAÆÇEEEEIIIIÐNOOOOOØUUUUÝÞ' </xsl:param>	<xsl:param name="minuscules">abcdefghijklmnopqrstuvwxyzàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþ' </xsl:param>	<xsl:param name="sans_accents">abcdefghijklmnopqrstuvwxyzaaaaaaæceeeeiiiiðnoooooouuuuýþ__</xsl:param>	<xsl:param name="files" select="//NECTIL/files_url"/>	<xsl:param name="media" select="/RESPONSE/RESULTS[@name='media']/MEDIA"/>	<xsl:param name="m_desc" select="$media/DESCRIPTIONS/DESCRIPTION"/>	<xsl:param name="book" select="/RESPONSE/RESULTS[@name='book']/MEDIA"/>	<xsl:param name="b_desc" select="$book/DESCRIPTIONS/DESCRIPTION"/>	<xsl:param name="contact" select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToPeopleContact']/CONTACT"/>	<xsl:template match="/RESPONSE">		<fo:root>			<fo:layout-master-set>				<fo:simple-page-master master-name="page-master" page-width="210mm" page-height="297mm" margin-top="7mm" margin-bottom="7mm" margin-left="7mm" margin-right="7mm">					<fo:region-body margin="0cm"/>					<fo:region-before extent="0cm"/>					<fo:region-after extent="0cm"/>				</fo:simple-page-master>			</fo:layout-master-set>			<fo:page-sequence master-reference="page-master">				<fo:flow flow-name="xsl-region-body">					<fo:block width="194mm" height="283mm" color="#000000" font-family="GothaHTFBoo">						<fo:table>							<fo:table-column column-width="8mm" column-number="1"/>							<fo:table-column column-width="178mm" column-number="2"/>							<fo:table-column column-width="8mm" column-number="3"/>							<fo:table-body>								<!-- top -->								<fo:table-row>									<fo:table-cell>										<fo:block>											<!--xsl:call-template name="B"/-->										</fo:block>									</fo:table-cell>									<fo:table-cell>										<fo:block margin-left="7mm" margin-right="7mm" space-before="1mm" font-family="GothaHTFBoo" font-size="8pt">											<fo:table>												<fo:table-column column-width="89mm" column-number="1"/>												<fo:table-column column-width="89mm" column-number="2"/>												<fo:table-body>													<fo:table-row>														<fo:table-cell>															<fo:block margin-right="5mm" font-size="5pt" line-height="7pt">																<xsl:apply-templates select="$m_desc/CUSTOM/TOP_LEFT"/>															</fo:block>														</fo:table-cell>														<fo:table-cell>															<fo:block margin-left="5mm" text-align="right" font-size="5pt" line-height="7pt">																<xsl:apply-templates select="$m_desc/CUSTOM/TOP_RIGHT"/>															</fo:block>														</fo:table-cell>													</fo:table-row>												</fo:table-body>											</fo:table>										</fo:block>									</fo:table-cell>									<fo:table-cell>										<fo:block text-align="right">											<!--xsl:call-template name="B"/-->										</fo:block>									</fo:table-cell>								</fo:table-row>								<!-- bottom -->								<fo:table-row>									<fo:table-cell display-align="center">										<fo:block text-align="right">											<fo:external-graphic src="{$files}{$m_desc/CUSTOM/LEFT_TITLE}" alignment-adjust="auto" width="5mm"/>										</fo:block>									</fo:table-cell>									<fo:table-cell>										<!-- titre -->										<fo:block font-size="16pt" font-family="GothaHTFBol" text-align="center" text-transform="uppercase" space-before="6mm">											<xsl:apply-templates select="$m_desc/HEADER"/>										</fo:block>										<fo:block font-size="8pt" font-family="GothaHTFLig" text-align="center" text-transform="uppercase" space-before="1mm" line-height="10pt">											<xsl:apply-templates select="$m_desc/SUMMARY"/>										</fo:block>										<fo:block font-size="8pt" font-family="GothaHTFBoo" text-align="center" margin-left="7mm" margin-right="7mm" space-before="6mm">											<!-- book -->											<fo:table>												<fo:table-column column-width="52mm" column-number="1"/>												<fo:table-column column-width="74mm" column-number="2"/>												<fo:table-column column-width="52mm" column-number="3"/>												<fo:table-body>													<fo:table-row>														<fo:table-cell>															<fo:block text-align="left" font-family="GothaHTFLig" font-size="10pt" space-after="3mm">N° DE LA CANDIDATURE</fo:block>														</fo:table-cell>														<fo:table-cell>															<fo:block font-family="GothaHTFBol" font-size="10pt">																<xsl:value-of select="$b_desc/CUSTOM/YEAR"/>																<xsl:text>-</xsl:text>																<xsl:value-of select="$b_desc/CUSTOM/NUMBER"/>																<xsl:text>-</xsl:text>																<xsl:value-of select="$book/@ID"/>																<xsl:text>-</xsl:text>																<xsl:value-of select="$contact/@ID"/>															</fo:block>														</fo:table-cell>														<fo:table-cell>															<fo:block text-align="right" font-family="GothaHTFLig" font-size="10pt">KANDIDATUUR Nr</fo:block>														</fo:table-cell>													</fo:table-row>													<fo:table-row>														<fo:table-cell>															<fo:block text-align="left" font-family="GothaHTFLig" font-size="10pt" space-before="3mm" space-after="3mm">LIVRE</fo:block>														</fo:table-cell>														<fo:table-cell/>														<fo:table-cell>															<fo:block text-align="right" font-family="GothaHTFLig" space-before="3mm" font-size="10pt">BOEK</fo:block>														</fo:table-cell>													</fo:table-row>													<xsl:apply-templates select="$b_desc/TITLE" mode="row"/>													<xsl:apply-templates select="$b_desc/HEADER" mode="row"/>													<xsl:apply-templates select="$b_desc/CUSTOM/BOOK_AUTHORS" mode="row"/>													<xsl:apply-templates select="$b_desc/YEAR" mode="row"/>													<!--													<xsl:apply-templates select="$book/INFO/EVENTSTART" mode="row"/>													-->													<xsl:apply-templates select="$b_desc/CUSTOM/BOOK_ISBN" mode="row"/>													<xsl:apply-templates select="$b_desc/CUSTOM/BOOK_LEGAL_DEPOSIT" mode="row"/>													<fo:table-row>														<fo:table-cell>															<fo:block space-after="3mm" text-align="left">Catégorie</fo:block>														</fo:table-cell>														<fo:table-cell>															<fo:block font-family="GothaHTFBol" space-after="3mm" font-size="10pt">																<xsl:value-of select="$book/CATEGORIES/CATEGORY[FATHERNAME = 'book_theme']/LABEL"/>															</fo:block>														</fo:table-cell>														<fo:table-cell>															<fo:block text-align="right" space-after="3mm">Categorie</fo:block>														</fo:table-cell>													</fo:table-row>													<xsl:apply-templates select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToAuthors']" mode="rows"/>													<xsl:apply-templates select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToEditor']" mode="rows"/>													<xsl:apply-templates select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToGraphist']" mode="rows"/>													<xsl:apply-templates select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToPrinter']" mode="rows"/>													<xsl:apply-templates select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToBinder']" mode="rows"/>													<xsl:apply-templates select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToOther']" mode="rows"/>													<xsl:apply-templates select="$b_desc/BIBLIO" mode="row"/>													<xsl:apply-templates select="$book/DEPENDENCIES/DEPENDENCY[@type='BookToPeopleContact']" mode="rows"/>												</fo:table-body>											</fo:table>										</fo:block>									</fo:table-cell>									<fo:table-cell display-align="center">										<fo:block text-align="left">											<fo:external-graphic src="{$files}{$m_desc/CUSTOM/RIGHT_TITLE}" alignment-adjust="auto" width="5mm"/>										</fo:block>									</fo:table-cell>								</fo:table-row>							</fo:table-body>						</fo:table>					</fo:block>				</fo:flow>			</fo:page-sequence>		</fo:root>	</xsl:template>	<xsl:template match="*">		<xsl:value-of select="."/>	</xsl:template>	<xsl:template match="*[CSS]">		<xsl:apply-templates select="./CSS"/>	</xsl:template>	<xsl:template match="CSS">		<xsl:apply-templates select="./*"/>	</xsl:template>	<xsl:template match="CSS/*">		<fo:block>			<xsl:value-of select="."/>		</fo:block>	</xsl:template>	<xsl:template match="BIBLIO">		<fo:block linefeed-treatment="ignore" white-space-treatment="preserve" white-space-collapse="false" text-align="left" font-family="GothaHTFBoo" font-size="8pt">			<xsl:value-of select="."/>		</fo:block>	</xsl:template>	<xsl:template match="HEADER/CSS/* | SUMMARY/CSS/*">		<fo:block>			<xsl:value-of select="translate(., $minuscules, $majuscules)"/>		</fo:block>	</xsl:template>	<xsl:template match="MEDIA[INFO/MEDIATYPE = 'Book']//*" mode="row">		<xsl:param name="label" select="concat('book_', name())"/>		<xsl:if test=" . != ''">			<fo:table-row>				<fo:table-cell>					<fo:block text-align="left" space-after="3mm">						<xsl:value-of select="//RESULTS[@name='l_fre']/LABEL[@name=$label]"/>					</fo:block>				</fo:table-cell>				<fo:table-cell>					<fo:block font-family="GothaHTFBol" font-size="10pt" space-after="3mm">						<xsl:choose>							<xsl:when test=" . = ''">								<xsl:text>-</xsl:text>							</xsl:when>							<xsl:otherwise>								<xsl:apply-templates select="."/>							</xsl:otherwise>						</xsl:choose>					</fo:block>				</fo:table-cell>				<fo:table-cell>					<fo:block text-align="right" space-after="3mm">						<xsl:value-of select="//RESULTS[@name='l_dut']/LABEL[@name=$label]"/>					</fo:block>				</fo:table-cell>			</fo:table-row>		</xsl:if>	</xsl:template>	<xsl:template match="CONTACT/INFO/*" mode="row">		<xsl:param name="label" select="concat('f_', name())"/>		<xsl:if test=". != ''">			<fo:table-row>				<fo:table-cell>					<fo:block text-align="left" space-after="3mm">						<xsl:value-of select="//RESULTS[@name='l_fre']/LABEL[@name=$label]"/>					</fo:block>				</fo:table-cell>				<fo:table-cell>					<fo:block font-family="GothaHTFBol" font-size="10pt" space-after="3mm">						<xsl:choose>							<xsl:when test=" . = ''">								<xsl:text>-</xsl:text>							</xsl:when>							<xsl:when test="name() = 'COUNTRYID'">								<xsl:value-of select="//COUNTRY[@ID = current()/.]/LABEL"/>							</xsl:when>							<xsl:otherwise>								<xsl:value-of select="."/>							</xsl:otherwise>						</xsl:choose>					</fo:block>				</fo:table-cell>				<fo:table-cell>					<fo:block text-align="right" space-after="3mm">						<xsl:value-of select="//RESULTS[@name='l_dut']/LABEL[@name=$label]"/>					</fo:block>				</fo:table-cell>			</fo:table-row>		</xsl:if>	</xsl:template>	<xsl:template match="DEPENDENCY" mode="rows">		<xsl:param name="label" select="concat('book_', @type)"/>		<xsl:if test="CONTACT">			<fo:table-row>				<fo:table-cell>					<fo:block text-align="left" font-family="GothaHTFLig" font-size="10pt" space-after="3mm" space-before="3mm">						<xsl:value-of select="translate(//RESULTS[@name='l_fre']/LABEL[@name=$label], $minuscules, $majuscules)"/>					</fo:block>				</fo:table-cell>				<fo:table-cell>				</fo:table-cell>				<fo:table-cell>					<fo:block text-align="right" font-family="GothaHTFLig" font-size="10pt" space-before="3mm">						<xsl:value-of select="translate(//RESULTS[@name='l_dut']/LABEL[@name=$label], $minuscules, $majuscules)"/>					</fo:block>				</fo:table-cell>			</fo:table-row>			<xsl:for-each select="CONTACT">				<xsl:apply-templates select="INFO/DENOMINATION" mode="row"/>				<xsl:if test="INFO/FIRSTNAME != '' or INFO/LASTNAME != ''">					<xsl:call-template name="row">						<xsl:with-param name="label_f" select="'Prénom et nom'"/>						<xsl:with-param name="label_n" select="'Voornaam en naam'"/>						<xsl:with-param name="value" select="concat(INFO/FIRSTNAME, ' ', INFO/LASTNAME)"/>					</xsl:call-template>				</xsl:if>			</xsl:for-each>		</xsl:if>	</xsl:template>	<xsl:template match="DEPENDENCY[@type='BookToPeopleContact']" mode="rows">		<xsl:param name="label" select="concat('book_', @type)"/>		<xsl:for-each select="CONTACT[1]">			<xsl:call-template name="row">				<xsl:with-param name="label_f" select="//RESULTS[@name='l_fre']/LABEL[@name=$label]"/>				<xsl:with-param name="label_n" select="//RESULTS[@name='l_dut']/LABEL[@name=$label]"/>				<xsl:with-param name="value">					<xsl:if test="INFO/FIRSTNAME != '' and INFO/LASTNAME != ''">						<xsl:value-of select="INFO/FIRSTNAME"/>						<xsl:text> </xsl:text>						<xsl:value-of select="INFO/LASTNAME"/>					</xsl:if>					<xsl:if test="INFO/FIRSTNAME != '' and INFO/LASTNAME != '' and INFO/DENOMINATION != ''">						<xsl:text> - </xsl:text>					</xsl:if>					<xsl:if test="INFO/DENOMINATION != ''">						<xsl:value-of select="INFO/DENOMINATION"/>					</xsl:if>				</xsl:with-param>			</xsl:call-template>			<xsl:apply-templates select="INFO/EMAIL1" mode="row"/>			<xsl:apply-templates select="INFO/PHONE1" mode="row"/>			<xsl:apply-templates select="INFO/MOBILEPHONE" mode="row"/>			<xsl:call-template name="row">				<xsl:with-param name="label_f" select="'Date'"/>				<xsl:with-param name="value" select="concat( substring($book/INFO/CREATIONDATE, 9, 2) , '/', substring($book/INFO/CREATIONDATE, 6, 2), '/' , substring($book/INFO/CREATIONDATE, 1, 4) )"/>				<xsl:with-param name="label_n" select="'Datum'"/>			</xsl:call-template>			<xsl:call-template name="row">				<xsl:with-param name="label_f" select="'Signature'"/>				<xsl:with-param name="label_n" select="'Handtekening'"/>			</xsl:call-template>			<xsl:if test="$media/DESCRIPTIONS/DESCRIPTION/CUSTOM/LEFT_MENTION != '' or $media/DESCRIPTIONS/DESCRIPTION/CUSTOM/RIGHT_MENTION != ''">				<fo:table-row>					<fo:table-cell>						<fo:block text-align="left" space-after="3mm" font-size="6pt" font-family="GothaHTFBoo">							<xsl:value-of select="$media/DESCRIPTIONS/DESCRIPTION/CUSTOM/LEFT_MENTION"/>						</fo:block>					</fo:table-cell>					<fo:table-cell>						<fo:block font-family="GothaHTFBol" space-after="3mm">						</fo:block>					</fo:table-cell>					<fo:table-cell>						<fo:block text-align="left" space-after="3mm" font-size="6pt" font-family="GothaHTFBoo">							<xsl:value-of select="$media/DESCRIPTIONS/DESCRIPTION/CUSTOM/RIGHT_MENTION"/>						</fo:block>					</fo:table-cell>				</fo:table-row>			</xsl:if>					</xsl:for-each>	</xsl:template>	<xsl:template name="row">		<xsl:param name="label_f"/>		<xsl:param name="label_n"/>		<xsl:param name="value"/>		<fo:table-row>			<fo:table-cell>				<fo:block text-align="left" space-after="3mm">					<xsl:value-of select="$label_f"/>				</fo:block>			</fo:table-cell>			<fo:table-cell>				<fo:block font-family="GothaHTFBol" font-size="10pt" space-after="3mm">					<xsl:value-of select="$value"/>				</fo:block>			</fo:table-cell>			<fo:table-cell>				<fo:block text-align="right" space-after="3mm">					<xsl:value-of select="$label_n"/>				</fo:block>			</fo:table-cell>		</fo:table-row>	</xsl:template>	<xsl:template name="B">		<fo:block font-family="GothaHTFBol" font-size="24pt">			<xsl:text>B</xsl:text>		</fo:block>	</xsl:template></xsl:stylesheet>